<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
</head>
<body>
<script type="text/javascript">
	var p = {
		x: 1.0,
		y: 1.0,
		get r(){
			return Math.sqrt(this.x * this.x + this.y * this.y);
		},
		set r(newvalue){
			var oldvalue = Math.sqrt(this.x * this.x + this.y * this.y);
			var ratio = newvalue/oldvalue;
			this.x *= ratio;
			this.y *= ratio;
		},
		get theta(){
			return Math.atan2(this.y, this.x);
		}
	};
	//这个对象产生严格自增的序列号
	var serialnum = {
		//这个数据属性包含下一个序列号
		//$序号暗示这个属性是一个私有属性
		$n: 0,
		//返回当前值，然后自增
		get next(){
			return this.$n++;
		},
		//给n设置新的值，但只有当它比当前值大时才设置成功
		set next(n){
			if (n >= this.$n) {
				this.$n = n;
			}else{
				throw "序列号的值不能比当前值小";
			}
		}
	};
	console.info(serialnum.next);
	serialnum.next = 0;
	console.info(serialnum.next);
</script>
</body>
</html>